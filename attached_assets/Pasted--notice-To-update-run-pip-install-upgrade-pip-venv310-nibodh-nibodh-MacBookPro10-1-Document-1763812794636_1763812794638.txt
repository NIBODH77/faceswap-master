[notice] To update, run: pip install --upgrade pip
(venv310) nibodh@nibodh-MacBookPro10-1:~/Documents/faceswap-master$ python web_app.py
 * Serving Flask app 'web_app'
 * Debug mode: on
INFO:werkzeug:WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.13:5000
INFO:werkzeug:Press CTRL+C to quit
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 156-530-847
INFO:werkzeug:127.0.0.1 - - [22/Nov/2025 17:23:51] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [22/Nov/2025 17:23:51] "GET /favicon.ico HTTP/1.1" 404 -
INFO:werkzeug:127.0.0.1 - - [22/Nov/2025 17:27:11] "POST /upload HTTP/1.1" 200 -
INFO:__main__:Running extraction: /home/nibodh/Documents/faceswap-master/venv310/bin/python faceswap.py extract -i uploads/e3c87dc0-8246-4b5b-8701-0e664677b61f/source_faces -o uploads/e3c87dc0-8246-4b5b-8701-0e664677b61f/source_faces -D s3fd -A fan -M bisenet-fp
INFO:werkzeug:127.0.0.1 - - [22/Nov/2025 17:28:09] "POST /extract HTTP/1.1" 200 -
INFO:__main__:Running extraction: /home/nibodh/Documents/faceswap-master/venv310/bin/python faceswap.py extract -i uploads/e3c87dc0-8246-4b5b-8701-0e664677b61f/target_faces -o uploads/e3c87dc0-8246-4b5b-8701-0e664677b61f/target_faces -D s3fd -A fan -M bisenet-fp
INFO:werkzeug:127.0.0.1 - - [22/Nov/2025 17:28:34] "POST /extract HTTP/1.1" 200 -
INFO:__main__:Starting training: /home/nibodh/Documents/faceswap-master/venv310/bin/python faceswap.py train -A uploads/e3c87dc0-8246-4b5b-8701-0e664677b61f/source_faces -B uploads/e3c87dc0-8246-4b5b-8701-0e664677b61f/target_faces -m models/e3c87dc0-8246-4b5b-8701-0e664677b61f -t original -bs 16 -it 5000 -s 100 -ss 1000 -ps 100
INFO:werkzeug:127.0.0.1 - - [22/Nov/2025 17:28:34] "POST /train HTTP/1.1" 200 -
INFO:__main__:Running conversion: /home/nibodh/Documents/faceswap-master/venv310/bin/python faceswap.py convert -i uploads/e3c87dc0-8246-4b5b-8701-0e664677b61f/target_faces -o outputs/e3c87dc0-8246-4b5b-8701-0e664677b61f -m models/e3c87dc0-8246-4b5b-8701-0e664677b61f -c masked -M bisenet-fp -w opencv
ERROR:__main__:Conversion failed: usage: faceswap.py convert [-h] [-C CONFIGFILE]
                           [-L {INFO,VERBOSE,DEBUG,TRACE}] [-F LOGFILE] -i
                           INPUT_DIR -o OUTPUT_DIR [-p ALIGNMENTS_PATH]
                           [-r REFERENCE_VIDEO] -m MODEL_DIR
                           [-c {none,avg-color,color-transfer,manual-balance,match-hist,seamless-clone}]
                           [-M {none,bisenet-fp_face,bisenet-fp_head,components,custom_face,custom_head,extended,unet-dfl,vgg-clear,vgg-obstructed,predicted}]
                           [-w {ffmpeg,gif,opencv,patch,pillow}]
                           [-O OUTPUT_SCALE]
                           [-R FRAME_RANGES [FRAME_RANGES ...]]
                           [-S FACE_SCALE] [-a INPUT_ALIGNED_DIR]
                           [-n NFILTER [NFILTER ...]] [-f FILTER [FILTER ...]]
                           [-l REF_THRESHOLD] [-j JOBS] [-T] [-k] [-s] [-P]

Convert source pictures or video to a new one with the face swapped

options:
  -h, --help            show this help message and exit
  -C CONFIGFILE, --configfile CONFIGFILE
                        Optionally overide the saved config with the path to a
                        custom config file.
  -L {INFO,VERBOSE,DEBUG,TRACE}, --loglevel {INFO,VERBOSE,DEBUG,TRACE}
                        Log level. Stick with INFO or VERBOSE unless you need
                        to file an error report. Be careful with TRACE as it
                        will generate a lot of data
  -F LOGFILE, --logfile LOGFILE
                        Path to store the logfile. Leave blank to store in the
                        faceswap folder
  -i INPUT_DIR, --input-dir INPUT_DIR
                        Input directory or video. Either a directory
                        containing the image files you wish to process or path
                        to a video file. NB: This should be the source
                        video/frames NOT the source faces.
  -o OUTPUT_DIR, --output-dir OUTPUT_DIR
                        Output directory. This is where the converted files
                        will be saved.
  -p ALIGNMENTS_PATH, --alignments ALIGNMENTS_PATH
                        Optional path to an alignments file. Leave blank if
                        the alignments file is at the default location.
  -r REFERENCE_VIDEO, --reference-video REFERENCE_VIDEO
                        Only required if converting from images to video.
                        Provide The original video that the source frames were
                        extracted from (for extracting the fps and audio).
  -m MODEL_DIR, --model-dir MODEL_DIR
                        Model directory. The directory containing the trained
                        model you wish to use for conversion.
  -c {none,avg-color,color-transfer,manual-balance,match-hist,seamless-clone}, --color-adjustment {none,avg-color,color-transfer,manual-balance,match-hist,seamless-clone}
                        Performs color adjustment to the swapped face. Some of
                        these options have configurable settings in
                        '/config/convert.ini' or 'Settings > Configure Convert
                        Plugins':
                          - avg-color: Adjust the mean of each color channel
                            in the swapped reconstruction to equal the mean of
                            the masked area in the original image.
                          - color-transfer: Transfers the color distribution
                            from the source to the target image using the mean
                            and standard deviations of the L*a*b* color space.
                          - manual-balance: Manually adjust the balance of the
                            image in a variety of color spaces. Best used with
                            the Preview tool to set correct values.
                          - match-hist: Adjust the histogram of each color
                            channel in the swapped reconstruction to equal the
                            histogram of the masked area in the original
                            image.
                          - seamless-clone: Use cv2's seamless clone function
                            to remove extreme gradients at the mask seam by
                            smoothing colors. Generally does not give very
                            satisfactory results.
                          - none: Don't perform color adjustment.
  -M {none,bisenet-fp_face,bisenet-fp_head,components,custom_face,custom_head,extended,unet-dfl,vgg-clear,vgg-obstructed,predicted}, --mask-type {none,bisenet-fp_face,bisenet-fp_head,components,custom_face,custom_head,extended,unet-dfl,vgg-clear,vgg-obstructed,predicted}
                        Masker to use. NB: The mask you require must exist
                        within the alignments file. You can add additional
                        masks with the Mask Tool.
                          - none: Don't use a mask.
                          - bisenet-fp_face: Relatively lightweight NN based
                            mask that provides more refined control over the
                            area to be masked (configurable in mask settings).
                            Use this version of bisenet-fp if your model is
                            trained with 'face' or 'legacy' centering.
                          - bisenet-fp_head: Relatively lightweight NN based
                            mask that provides more refined control over the
                            area to be masked (configurable in mask settings).
                            Use this version of bisenet-fp if your model is
                            trained with 'head' centering.
                          - custom_face: Custom user created, face centered
                            mask.
                          - custom_head: Custom user created, head centered
                            mask.
                          - components: Mask designed to provide facial
                            segmentation based on the positioning of landmark
                            locations. A convex hull is constructed around the
                            exterior of the landmarks to create a mask.
                          - extended: Mask designed to provide facial
                            segmentation based on the positioning of landmark
                            locations. A convex hull is constructed around the
                            exterior of the landmarks and the mask is extended
                            upwards onto the forehead.
                          - vgg-clear: Mask designed to provide smart
                            segmentation of mostly frontal faces clear of
                            obstructions. Profile faces and obstructions may
                            result in sub-par performance.
                          - vgg-obstructed: Mask designed to provide smart
                            segmentation of mostly frontal faces. The mask
                            model has been specifically trained to recognize
                            some facial obstructions (hands and eyeglasses).
                            Profile faces may result in sub-par performance.
                          - unet-dfl: Mask designed to provide smart
                            segmentation of mostly frontal faces. The mask
                            model has been trained by community members and
                            will need testing for further description. Profile
                            faces may result in sub-par performance.
                          - predicted: If the 'Learn Mask' option was enabled
                            during training, this will use the mask that was
                            created by the trained model.
  -w {ffmpeg,gif,opencv,patch,pillow}, --writer {ffmpeg,gif,opencv,patch,pillow}
                        The plugin to use to output the converted images. The
                        writers are configurable in '/config/convert.ini' or
                        'Settings > Configure Convert Plugins:'
                          - ffmpeg: [video] Writes out the convert straight to
                            video. When the input is a series of images then
                            the '-ref' (--reference-video) parameter must be
                            set.
                          - gif: [animated image] Create an animated gif.
                          - opencv: [images] The fastest image writer, but
                            less options and formats than other plugins.
                          - patch: [images] Outputs the raw swapped face
                            patch, along with the transformation matrix
                            required to re-insert the face back into the
                            original frame. Use this option if you wish to
                            post-process and composite the final face within
                            external tools.
                          - pillow: [images] Slower than opencv, but has more
                            options and supports more formats.
  -O OUTPUT_SCALE, --output-scale OUTPUT_SCALE
                        Scale the final output frames by this amount. 100%
                        will output the frames at source dimensions. 50% at
                        half size 200% at double size
  -R FRAME_RANGES [FRAME_RANGES ...], --frame-ranges FRAME_RANGES [FRAME_RANGES ...]
                        Frame ranges to apply transfer to e.g. For frames 10
                        to 50 and 90 to 100 use --frame-ranges 10-50 90-100.
                        Frames falling outside of the selected range will be
                        discarded unless '-k' (--keep-unchanged) is selected.
                        NB: If you are converting from images, then the
                        filenames must end with the frame-number!
  -S FACE_SCALE, --face-scale FACE_SCALE
                        Scale the swapped face by this percentage. Positive
                        values will enlarge the face, Negative values will
                        shrink the face.
  -a INPUT_ALIGNED_DIR, --input-aligned-dir INPUT_ALIGNED_DIR
                        If you have not cleansed your alignments file, then
                        you can filter out faces by defining a folder here
                        that contains the faces extracted from your input
                        files/video. If this folder is defined, then only
                        faces that exist within your alignments file and also
                        exist within the specified folder will be converted.
                        Leaving this blank will convert all faces that exist
                        within the alignments file.
  -n NFILTER [NFILTER ...], --nfilter NFILTER [NFILTER ...]
                        Optionally filter out people who you do not wish to
                        process by passing in an image of that person. Should
                        be a front portrait with a single person in the image.
                        Multiple images can be added space separated. NB:
                        Using face filter will significantly decrease
                        extraction speed and its accuracy cannot be
                        guaranteed.
  -f FILTER [FILTER ...], --filter FILTER [FILTER ...]
                        Optionally select people you wish to process by
                        passing in an image of that person. Should be a front
                        portrait with a single person in the image. Multiple
                        images can be added space separated. NB: Using face
                        filter will significantly decrease extraction speed
                        and its accuracy cannot be guaranteed.
  -l REF_THRESHOLD, --ref_threshold REF_THRESHOLD
                        For use with the optional nfilter/filter files.
                        Threshold for positive face recognition. Lower values
                        are stricter. NB: Using face filter will significantly
                        decrease extraction speed and its accuracy cannot be
                        guaranteed.
  -j JOBS, --jobs JOBS  The maximum number of parallel processes for
                        performing conversion. Converting images is system RAM
                        heavy so it is possible to run out of memory if you
                        have a lot of processes and not enough RAM to
                        accommodate them all. Setting this to 0 will use the
                        maximum available. No matter what you set this to, it
                        will never attempt to use more processes than are
                        available on your system. If singleprocess is enabled
                        this setting will be ignored.
  -T, --on-the-fly      Enable On-The-Fly Conversion. NOT recommended. You
                        should generate a clean alignments file for your
                        destination video. However, if you wish you can
                        generate the alignments on-the-fly by enabling this
                        option. This will use an inferior extraction pipeline
                        and will lead to substandard results. If an alignments
                        file is found, this option will be ignored.
  -k, --keep-unchanged  When used with --frame-ranges outputs the unchanged
                        frames that are not processed instead of discarding
                        them.
  -s, --swap-model      Swap the model. Instead converting from of A -> B,
                        converts B -> A
  -P, --singleprocess   Disable multiprocessing. Slower but less resource
                        intensive.

Questions and feedback: https://faceswap.dev/forum
faceswap.py convert: error: argument -c/--color-adjustment: invalid choice: 'masked' (choose from 'none', 'avg-color', 'color-transfer', 'manual-balance', 'match-hist', 'seamless-clone')

INFO:werkzeug:127.0.0.1 - - [22/Nov/2025 17:29:04] "POST /convert HTTP/1.1" 500 -
